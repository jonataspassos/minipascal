<html >
<head >
<title >

.:: Visualization ::.
</title>
<style>
text {
	text-anchor:middle;
}line {
	stroke:black;
	stroke-width:1px;
}.array>rect {
	fill:aqua;
}.integer>rect {
	fill:dodgerblue;
}.integer>text {
	fill:white;
	stroke:black;
	stroke-width:0.2px;
}.real>rect {
	fill:darkgreen;
}.real>text {
	fill:white;
	stroke:black;
	stroke-width:0.2px;
}.boolean>rect {
	fill:blueviolet;
}.boolean>text {
	fill:white;
	stroke:black;
	stroke-width:0.2px;
}.none>rect {
	fill:gray;
}.variable>rect {
	fill:coral;
}.expression {
	stroke:black;
	stroke-width:0.2px;
}.expression>rect {
	opacity:0.7;
}.op>rect {
	opacity:0.8;
}.id>rect {
	fill:lightgray;
}.declaration>rect {
	fill:darkseagreen;
}.command>rect {
	fill:goldenrod;
}
</style>


</head>
<body >
<div class="container" 
 style = "border:6; color:#0000ff; ">
<svg width="640" height="480" >
<g id="dynamic" >
<g class="assignment command" >
<rect style="fill:white;opacity:0.5;" y="-9" width="90" height="208" >


</rect>
<g transform="translate(5,9)" >
<g transform="translate(6,139)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-130" y2="0" >


</line>
<g class="assignment command" >
<rect style="fill:white;opacity:0.5;" y="-9" width="60" height="50" >


</rect>
<g transform="translate(11,19)" >
<g class="variable" >
<rect x="-11" width="22" height="18" >


</rect>
<g class="none" >
<rect x="9" width="3" height="18" >


</rect>


</g>
<text y="9" dy=".3em" >

z
</text>


</g>


</g>
<g transform="translate(38,30)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-11" y2="0" >


</line>
<g class="expression none" >
<rect style="opacity:1;fill:white;" y="-11" width="22" height="22" >


</rect>
<rect y="-11" width="22" height="22" >


</rect>


</g>


</g>
<rect y="-9" width="60" height="18" >


</rect>
<text x="30" dy=".3em" >

... := ...
</text>
<line x1="13" x2="11" y1="9" y2="19" >


</line>
<line x1="48" x2="33" y1="9" y2="19" >


</line>


</g>


</g>
<g transform="translate(3,79)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-70" y2="0" >


</line>
<g class="assignment command" >
<rect style="fill:white;opacity:0.5;" y="-9" width="60" height="50" >


</rect>
<g transform="translate(11,19)" >
<g class="variable" >
<rect x="-11" width="22" height="18" >


</rect>
<g class="none" >
<rect x="9" width="3" height="18" >


</rect>


</g>
<text y="9" dy=".3em" >

y
</text>


</g>


</g>
<g transform="translate(38,30)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-11" y2="0" >


</line>
<g class="expression none" >
<rect style="opacity:1;fill:white;" y="-11" width="22" height="22" >


</rect>
<rect y="-11" width="22" height="22" >


</rect>


</g>


</g>
<rect y="-9" width="60" height="18" >


</rect>
<text x="30" dy=".3em" >

... := ...
</text>
<line x1="13" x2="11" y1="9" y2="19" >


</line>
<line x1="48" x2="33" y1="9" y2="19" >


</line>


</g>


</g>
<g transform="translate(0,19)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-10" y2="0" >


</line>
<g class="assignment command" >
<rect style="fill:white;opacity:0.5;" y="-9" width="60" height="50" >


</rect>
<g transform="translate(11,19)" >
<g class="variable" >
<rect x="-11" width="22" height="18" >


</rect>
<g class="none" >
<rect x="9" width="3" height="18" >


</rect>


</g>
<text y="9" dy=".3em" >

x
</text>


</g>


</g>
<g transform="translate(38,30)" >
<line x1="-5" x2="0" y1="0" y2="0" >


</line>
<line x1="-5" x2="-5" y1="-11" y2="0" >


</line>
<g class="expression none" >
<rect style="opacity:1;fill:white;" y="-11" width="22" height="22" >


</rect>
<rect y="-11" width="22" height="22" >


</rect>


</g>


</g>
<rect y="-9" width="60" height="18" >


</rect>
<text x="30" dy=".3em" >

... := ...
</text>
<line x1="13" x2="11" y1="9" y2="19" >


</line>
<line x1="48" x2="33" y1="9" y2="19" >


</line>


</g>


</g>


</g>
<rect y="-9" width="90" height="18" >


</rect>
<text x="45" dy=".3em" >

begin ... end
</text>


</g>


</g>
<g id="static" >


</g>


</svg>


</div>
<div id="panel-control" class="panel-control" >
<button onclick="zoom(true)" >

zoom in
</button>
<button onclick="zoom(false)" >

zoom out
</button>
<button onclick="translateX(true)" >

X +
</button>
<button onclick="translateX(false)" >

X -
</button>
<button onclick="translateY(true)" >

Y +
</button>
<button onclick="translateY(false)" >

Y -
</button>
<button onclick="reset()" >

reset
</button>
<button onclick="help()" >

help
</button>


</div>
<script >

var zoom, translateX, translateY, reset, help;

        (function () {

            var KEY_DOWN = 40, KEY_UP = 38, KEY_LEFT = 37, KEY_RIGHT = 39;
            var KEY_END = 35, KEY_BEGIN = 36;
            var KEY_BACK_TAB = 8, KEY_TAB = 9, KEY_SH_TAB = 16, KEY_ENTER = 13, KEY_ESC = 27, KEY_SPACE = 32, KEY_DEL = 46;
            var KEY_A = 65, KEY_B = 66, KEY_C = 67, KEY_D = 68, KEY_E = 69, KEY_F = 70, KEY_G = 71, KEY_H = 72, KEY_I = 73,
                KEY_J = 74, KEY_K = 75, KEY_L = 76, KEY_M = 77, KEY_N = 78, KEY_O = 79, KEY_P = 80, KEY_Q = 81, KEY_R = 82,
                KEY_S = 83, KEY_T = 84, KEY_U = 85, KEY_V = 86, KEY_W = 87, KEY_X = 88, KEY_Y = 89, KEY_Z = 90;
            var KEY_PF1 = 112, KEY_PF2 = 113, KEY_PF3 = 114, KEY_PF4 = 115, KEY_PF5 = 116, KEY_PF6 = 117, KEY_PF7 = 118, KEY_PF8 = 119;

            var REMAP_KEY_T = 5019;

            var factor = 0.1;
            var z = 1.0;
            var tx = 0;
            var ty = 0;
            function setTransform() {
                document.querySelector("#dynamic").setAttribute("transform", "translate(" + tx + "," + ty + ")scale(" + z + "," + z + ")");
            }

            function w() {
                return document.querySelector("svg").getBoundingClientRect().width;
            }

            function h() {
                return document.querySelector("svg").getBoundingClientRect().height;
            }

            function checkEventObj(_event_) {
                // --- IE explorer
                if (window.event)
                    return window.event;
                // --- Netscape and other explorers
                else
                    return _event_;
            }

            zoom = function (s) {
                if (s == false) {
                    z /= 1 + factor;
                    tx /= 1 + factor;
                    ty /= 1 + factor;
                } else {
                    z *= 1 + factor;
                    tx *= 1 + factor;
                    ty *= 1 + factor;
                }


                setTransform()
            }

            translateX = function (s) {
                if (s == false) {
                    tx += w() * factor;
                } else {
                    tx -= w() * factor;
                }
                setTransform()
            }

            translateY = function (s) {
                if (s == false) {
                    ty += h() * factor;
                } else {
                    ty -= h() * factor;
                }
                setTransform()
            }

            reset = function () {
                z = 1.0;
                tx = 0;
                ty = 0;
                setTransform();
            }

            help = function(){
                alert("This is a visualization of SVG.\n"+
                    "You can:\n"+
                    "   Change Zoom:\n"+
                    "       Zoom        (Ctrl + Up_arrow , Ctrl + Dowm_arrow)\n"+
                    "   Change translation:\n"+
                    "       Translate X (Left_arrow , Right_arrow)\n"+
                    "       Translate Y (Up_arrow , Down_arrow)\n"+
                    "   Reset View (R)\n"
                        );
            }

            document.onkeydown = function (_event_) {
                var winObj = checkEventObj(_event_);
                var intKeyCode = winObj.keyCode;
                var intAltKey = winObj.altKey;
                var intCtrlKey = winObj.ctrlKey;
            	function finishKey() {
              	  winObj.keyCode = intKeyCode = REMAP_KEY_T;
              	  winObj.returnValue = false;
           	     return false;
        	    }


                // 1° --- Access with [ALT/CTRL+Key]
                if (intAltKey || intCtrlKey) {

                    if (intKeyCode == KEY_RIGHT || intKeyCode == KEY_UP) {
                        zoom(true);
                        return finishKey();
                    } else if (intKeyCode == KEY_LEFT || intKeyCode == KEY_DOWN) {
                        zoom(false);
                        return finishKey();
                    } else if (intKeyCode == KEY_R){
                        reset();
                        return finishKey();
                    }
                }
                // 2 ° --- Access without [ALT/CTRL+Key]
                else {

                    if (intKeyCode == KEY_RIGHT) {
                        translateX(true);
                        return finishKey();
                    } else if (intKeyCode == KEY_LEFT) {
                        translateX(false);
                        return finishKey();
                    } else if (intKeyCode == KEY_UP) {
                        translateY(false);
                        return finishKey();
                    } else if (intKeyCode == KEY_DOWN) {
                        translateY(true);
                        return finishKey();
                    } else if (intKeyCode == KEY_R){
                        reset();
                        return finishKey();
                    }

                }
            }

        })()
</script>


</body>


</html>